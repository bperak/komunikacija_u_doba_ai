graph TD
subgraph Agentova obrada
A(Početna namjera: Personalizacija) --> B{Upit dugoročnom pamćenju};
B -- Parametri: "korisnik_id: Ana", "ključne_riječi: umjetnost, Pariz" --> C[Opažanje 1: Pamćenje vraća podatak <br> "Ana je pozitivno ocijenila Musée d'Orsay"];
C --> D{Formuliranje novog upita};
D --> E{Upit sustavu za utemeljenje (RAG)};
E -- Parametri: "muzeji s impresionističkom umjetnošću u Parizu <br> osim Musée d'Orsay" --> F[Opažanje 2: Vanjsko znanje <br> "Marmottan Monet", "Orangerie" + detalji];
C --> G((Sinteza));
F --> G((Sinteza));
G --> H(Ishod: Personalizirani prijedlog);
end
style A fill:#E6F3FF,stroke:#333,stroke-width:1px
style H fill:#D4EDDA,stroke:#333,stroke-width:1px
classDef memory fill:#FFF3CD,stroke:#333,stroke-width:1px;
classDef rag fill:#F8D7DA,stroke:#333,stroke-width:1px;
class B,C memory;
class E,F rag;